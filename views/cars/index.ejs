<%- include('../partials/header', { title: 'Car List' }) %>

<h1>Car Inventory</h1>

<a href="/cars/create" class="btn btn-create">Add New Car</a>

<% if (cars && cars.length > 0) { %>
<ul class="item-list">
  <% cars.forEach(car => { %>
  <li class="item">
    <div class="item-details">
      <h3><%= car.make %> <%= car.model %> (<%= car.year %>)</h3>
      <p>Price: $<%= car.price.toLocaleString() %></p>
      <p>Category: <%= car.category_name %></p>
      <% if (car.color) { %>
      <p>Color: <%= car.color %></p>
      <% } %>
    </div>
    <div class="item-actions">
      <a href="/cars/<%= car.car_id %>" class="btn">View</a>
      <a href="/cars/<%= car.car_id %>/update" class="btn btn-update">Update</a>
      <form
        action="/cars/<%= car.car_id %>/delete"
        method="POST"
        style="display: inline"
      >
        <button
          type="submit"
          class="btn btn-delete"
          onclick="return confirm('Are you sure you want to delete this car?')"
        >
          Delete
        </button>
      </form>
    </div>
  </li>
  <% }); %>
</ul>
<% } else { %>
<p>No cars in inventory yet.</p>
<% } %> <%- include('../partials/footer') %>

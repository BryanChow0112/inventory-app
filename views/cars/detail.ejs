<%- include('../partials/header', { title: car.make + ' ' + car.model }) %>

<div class="car-detail">
  <% if (car) { %>
  <div class="car-header">
    <h1><%= car.make %> <%= car.model %> (<%= car.year %>)</h1>
    <div class="car-actions">
      <a href="/cars/<%= car.car_id %>/update" class="btn btn-update"
        >Update Car</a
      >
      <form
        action="/cars/<%= car.car_id %>/delete"
        method="POST"
        style="display: inline"
      >
        <button
          type="submit"
          class="btn btn-delete"
          onclick="return confirm('Are you sure you want to delete this car?')"
        >
          Delete Car
        </button>
      </form>
    </div>
  </div>

  <div class="detail-grid">
    <div class="detail-section">
      <h2>Basic Information</h2>
      <div class="detail-item">
        <span class="detail-label">Make:</span>
        <span class="detail-value"><%= car.make %></span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Model:</span>
        <span class="detail-value"><%= car.model %></span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Year:</span>
        <span class="detail-value"><%= car.year %></span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Price:</span>
        <span class="detail-value">$<%= car.price.toLocaleString() %></span>
      </div>
      <div class="detail-item">
        <span class="detail-label">Category:</span>
        <span class="detail-value"><%= car.category_name %></span>
      </div>
    </div>

    <% if (car.color || car.description) { %>
    <div class="detail-section">
      <h2>Additional Details</h2>
      <% if (car.color) { %>
      <div class="detail-item">
        <span class="detail-label">Color:</span>
        <span class="detail-value"><%= car.color %></span>
      </div>
      <% } %> <% if (car.description) { %>
      <div class="detail-item">
        <span class="detail-label">Description:</span>
        <span class="detail-value"><%= car.description %></span>
      </div>
      <% } %>
    </div>
    <% } %>
  </div>

  <div class="navigation-links">
    <a href="/cars" class="btn">Back to Cars</a>
    <a href="/categories/<%= car.category_id %>" class="btn">View Category</a>
  </div>
  <% } else { %>
  <p>Car not found.</p>
  <p><a href="/cars" class="btn">Back to Cars</a></p>
  <% } %>
</div>

<%- include('../partials/footer') %>
